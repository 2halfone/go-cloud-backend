# Environment Configuration for Go Microservices
# Copy this file to .env and update the values for your environment

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================

# JWT Secret Key (CRITICAL: Change this in production!)
# Generate a strong secret: openssl rand -base64 64
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production-make-it-very-long-and-random

# =============================================================================
# SERVICE CONFIGURATION
# =============================================================================

# Gateway Service
GATEWAY_PORT=3000
GATEWAY_HOST=0.0.0.0

# Auth Service
AUTH_PORT=3001
AUTH_HOST=0.0.0.0

# User Service
USER_PORT=3002
USER_HOST=0.0.0.0

# =============================================================================
# SERVICE DISCOVERY
# =============================================================================

# Internal service URLs (for service-to-service communication)
AUTH_SERVICE_URL=http://localhost:3001
USER_SERVICE_URL=http://localhost:3002
GATEWAY_SERVICE_URL=http://localhost:3000

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# Note: Currently using in-memory storage
# Add database configuration here when implementing persistent storage
# DATABASE_URL=postgres://user:password@localhost:5432/microservices
# REDIS_URL=redis://localhost:6379

# =============================================================================
# SECURITY SETTINGS
# =============================================================================

# CORS Configuration
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8080,https://yourdomain.com
CORS_ALLOWED_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_ALLOWED_HEADERS=Content-Type,Authorization

# Rate Limiting
RATE_LIMIT_REQUESTS_PER_MINUTE=60
RATE_LIMIT_BURST=10

# Session Configuration
SESSION_TIMEOUT_HOURS=24
REFRESH_TOKEN_TIMEOUT_DAYS=7

# =============================================================================
# LOGGING AND MONITORING
# =============================================================================

# Log Level (DEBUG, INFO, WARN, ERROR)
LOG_LEVEL=INFO

# Enable request logging
REQUEST_LOGGING=true

# Enable metrics
METRICS_ENABLED=true
METRICS_PORT=8080

# =============================================================================
# TLS/SSL CONFIGURATION
# =============================================================================

# TLS Configuration (for HTTPS)
TLS_ENABLED=false
TLS_CERT_FILE=/etc/ssl/certs/server.crt
TLS_KEY_FILE=/etc/ssl/private/server.key

# =============================================================================
# DEPLOYMENT CONFIGURATION
# =============================================================================

# Environment (development, staging, production)
ENVIRONMENT=production

# Application Version
APP_VERSION=1.0.0

# Health Check Configuration
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_TIMEOUT=5s

# =============================================================================
# EXTERNAL SERVICES
# =============================================================================

# Email Service (for notifications)
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USERNAME=your-email@gmail.com
# SMTP_PASSWORD=your-app-password

# Cloud Storage (for file uploads)
# AWS_REGION=us-west-2
# AWS_ACCESS_KEY_ID=your-access-key
# AWS_SECRET_ACCESS_KEY=your-secret-key
# AWS_S3_BUCKET=your-bucket-name

# =============================================================================
# ADVANCED CONFIGURATION
# =============================================================================

# Circuit Breaker Settings
CIRCUIT_BREAKER_THRESHOLD=5
CIRCUIT_BREAKER_TIMEOUT=30s

# Retry Configuration
MAX_RETRIES=3
RETRY_DELAY=1s

# Graceful Shutdown Timeout
SHUTDOWN_TIMEOUT=30s

# =============================================================================
# MONITORING AND ALERTING
# =============================================================================

# Prometheus Metrics
PROMETHEUS_ENABLED=false
PROMETHEUS_PORT=9090

# Health Check Endpoints
HEALTH_CHECK_PATH=/health
READINESS_CHECK_PATH=/ready
LIVENESS_CHECK_PATH=/live
